{"version":3,"file":"commonHelpers2.js","sources":["../src/js/header.js","../src/js/features.js","../src/js/game-levels.js"],"sourcesContent":["const body = document.body;\nconst headerOpenBtn = document.querySelector('.header-open-btn');\nconst headerMobMenu = document.querySelector('.header-mob-menu');\nconst headerCloseBtn = document.querySelector('.header-close-btn');\nconst backdrop = document.querySelector('.header-backdrop');\nconst anchorLinks = document.querySelectorAll('.header-link');\nconst header = document.querySelector('.header');\n\nheaderOpenBtn.addEventListener('click', () => {\n  headerMobMenu.classList.add('is-open');\n  backdrop.classList.add('is-visible');\n  body.classList.add('no-scroll');\n});\n\nheaderCloseBtn.addEventListener('click', closeMobileMenu);\nbackdrop.addEventListener('click', closeMobileMenu);\n\nanchorLinks.forEach(link => {\n  link.addEventListener('click', event => {\n    event.preventDefault();\n\n    const id = link.getAttribute('href').substring(1);\n    const target = document.getElementById(id);\n\n    if (target) {\n      const isMobile = window.innerWidth <= 1199;\n      const headerHeight = isMobile ? header.offsetHeight : 0;\n\n      const topPosition =\n        target.getBoundingClientRect().top + window.pageYOffset - headerHeight;\n\n      window.scrollTo({\n        top: topPosition,\n        behavior: 'smooth',\n      });\n    }\n\n    closeMobileMenu();\n  });\n});\n\nfunction closeMobileMenu() {\n  headerMobMenu.classList.remove('is-open');\n  backdrop.classList.remove('is-visible');\n  body.classList.remove('no-scroll');\n}\n","function createRotator(container, imagePath) {\n  const img = container.querySelector('img');\n  const isDesktop = () => window.innerWidth >= 1200;\n  let group = isDesktop() ? 'desktop' : 'mobile';\n  let index = 0;\n  let intervalId = null;\n\n  const paths = {\n    desktop: [\n      {\n        src: `../img/features/desktop/${imagePath}/image-1.jpg`,\n        src2x: `../img/features/desktop/${imagePath}/image-1@2x.jpg`,\n      },\n      {\n        src: `../img/features/desktop/${imagePath}/image-2.jpg`,\n        src2x: `../img/features/desktop/${imagePath}/image-2@2x.jpg`,\n      },\n      {\n        src: `../img/features/desktop/${imagePath}/image-3.jpg`,\n        src2x: `../img/features/desktop/${imagePath}/image-3@2x.jpg`,\n      },\n    ],\n    mobile: [\n      {\n        src: `../img/features/mobile/${imagePath}/image-1.jpg`,\n        src2x: `../img/features/mobile/${imagePath}/image-1@2x.jpg`,\n      },\n      {\n        src: `../img/features/mobile/${imagePath}/image-2.jpg`,\n        src2x: `../img/features/mobile/${imagePath}/image-2@2x.jpg`,\n      },\n      {\n        src: `../img/features/mobile/${imagePath}/image-3.jpg`,\n        src2x: `../img/features/mobile/${imagePath}/image-3@2x.jpg`,\n      },\n    ],\n  };\n\n  function setImage(i) {\n    const { src, src2x } = paths[group][i];\n    img.classList.remove('active');\n\n    setTimeout(() => {\n      img.src = src;\n      img.srcset = `${src} 1x, ${src2x} 2x`;\n      img.onload = () => {\n        requestAnimationFrame(() => {\n          img.classList.add('active');\n        });\n      };\n    }, 400);\n  }\n\n  function startRotation() {\n    if (intervalId) return;\n    intervalId = setInterval(() => {\n      index = (index + 1) % paths[group].length;\n      setImage(index);\n    }, 2000);\n  }\n\n  function stopRotation() {\n    clearInterval(intervalId);\n    intervalId = null;\n  }\n\n  window.addEventListener('resize', () => {\n    const newGroup = isDesktop() ? 'desktop' : 'mobile';\n    if (newGroup !== group) {\n      group = newGroup;\n      index = 0;\n      setImage(index);\n    }\n  });\n\n  setImage(index);\n  startRotation();\n}\n\ndocument.querySelectorAll('.image-rotator').forEach(container => {\n  const id = container.dataset.id;\n  createRotator(container, id);\n});\n","const animations = {\n  'cityscape-dash-mob': [\n    {\n      src: './img/game-levels/cityscape-dash-mob-1.png',\n      retina: './img/game-levels/cityscape-dash-mob-1@2x.png',\n    },\n    {\n      src: './img/game-levels/cityscape-dash-mob-2.png',\n      retina: './img/game-levels/cityscape-dash-mob-2@2x.png',\n    },\n    {\n      src: './img/game-levels/cityscape-dash-mob-3.png',\n      retina: './img/game-levels/cityscape-dash-mob-3@2x.png',\n    },\n  ],\n  'cityscape-dash-desk': [\n    {\n      src: './img/game-levels/cityscape-dash-desk-1.png',\n      retina: './img/game-levels/cityscape-dash-desk-1@2x.png',\n    },\n    {\n      src: './img/game-levels/cityscape-dash-desk-2.png',\n      retina: './img/game-levels/cityscape-dash-desk-2@2x.png',\n    },\n    {\n      src: './img/game-levels/cityscape-dash-desk-3.png',\n      retina: './img/game-levels/cityscape-dash-desk-3@2x.png',\n    },\n  ],\n  'space-rush-mob': [\n    {\n      src: './img/game-levels/space-rush-mob-1.png',\n      retina: './img/game-levels/space-rush-mob-1@2x.png',\n    },\n    {\n      src: './img/game-levels/space-rush-mob-2.png',\n      retina: './img/game-levels/space-rush-mob-2@2x.png',\n    },\n    {\n      src: './img/game-levels/space-rush-mob-3.png',\n      retina: './img/game-levels/space-rush-mob-3@2x.png',\n    },\n  ],\n  'space-rush-desk': [\n    {\n      src: './img/game-levels/space-rush-desk-1.png',\n      retina: './img/game-levels/space-rush-desk-1@2x.png',\n    },\n    {\n      src: './img/game-levels/space-rush-desk-2.png',\n      retina: './img/game-levels/space-rush-desk-2@2x.png',\n    },\n    {\n      src: './img/game-levels/space-rush-desk-3.png',\n      retina: './img/game-levels/space-rush-desk-3@2x.png',\n    },\n  ],\n};\n\nconst animateImages = selector => {\n  const elements = document.querySelectorAll(selector);\n\n  elements.forEach(el => {\n    const name = el.dataset.name;\n    const imageList = animations[name];\n\n    if (!imageList) return;\n\n    let currentIndex = 0;\n\n    setInterval(() => {\n      currentIndex = (currentIndex + 1) % imageList.length;\n      const newImage =\n        window.devicePixelRatio > 1\n          ? imageList[currentIndex].retina\n          : imageList[currentIndex].src;\n\n      let img = el.querySelector('img');\n      if (!img) {\n        img = document.createElement('img');\n        el.appendChild(img);\n      }\n\n      img.src = newImage;\n\n      const allImgs = el.querySelectorAll('img');\n      allImgs.forEach(image => {\n        image.classList.remove('active');\n      });\n\n      img.classList.add('active');\n    }, 1000);\n  });\n};\n\nanimateImages('.gl-item-img-mob');\nanimateImages('.gl-item-img-desk');\n"],"names":["body","headerOpenBtn","headerMobMenu","headerCloseBtn","backdrop","anchorLinks","header","closeMobileMenu","link","event","id","target","headerHeight","topPosition","createRotator","container","imagePath","img","isDesktop","group","index","intervalId","paths","setImage","i","src","src2x","startRotation","newGroup","animations","animateImages","selector","el","name","imageList","currentIndex","newImage","image"],"mappings":"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"}